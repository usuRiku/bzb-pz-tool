<% layout("layouts/boilerplate") %>
<div class="row">
    <div class="col-12 col-md-8 offset-md-2">
        <h1>ライブ一覧</h1>
        <a href="/lives/new" class="btn btn-success">ライブを新規作成</a>
        <table class="table table-striped table-hover my-2">
            <tbody>
                <th scope="col">ライブ名</th>
                <th scope="col">開催日</th>
                <th scope="col">場所</th>
                <th scope="col">開始時間</th>
                <th scope="col">操作</th>
                <% for(let live of lives) {%>
                    <tr>
                    <td><a href="/admin/live/<%= live._id %>/"><%= live.name %></a></td>
                    <% const dateString = `${live.date.getFullYear()}年${live.date.getMonth() + 1}月${live.date.getDate()}日` %>
                    <td><%= dateString %></td>
                    <td><%= live.location %></td>
                    <td><%= live.time %></td>
                    <td>
                        <form action="/lives/<%= live._id %>?_method=DELETE" method="POST" class = "d-inline delete-forms"><button type="button" class="btn btn-danger btn-sm deleteEl">削除</button></form>
                        <form action="/lives/<%= live._id %>/edit" class = "d-inline"><button class="btn btn-success btn-sm ">編集</button></form>
                    </td>
                </tr>
            <% } %>
            </tbody>
        </table>
    </div>
</div>
<script src="/javascript/admin/liveManagement.js"></script>